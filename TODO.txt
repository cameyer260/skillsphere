- add supabase edge function for syncing new user accounts to the profiles table. current fix for the problem is inserting the profile on sucessful signups in the singup function in actions.ts, but once we add other forms of auth (sign in through google, github, etc.) this fix will not work and we will need a supabase edge function to handle it
- edit friendships table so that there can be no duplicate pairs (same requester and receiever in any order)******
- get friends figures out on account page first
- fix signup flow, make it smoother and less clunky
- add on temporary guest account and allow them to play live against friends or any of the games for a limit amount of time (https://supabase.com/docs/guides/auth/auth-anonymous)
- consider changing the user useContext object to hold useStates instead so that the frontend display of them updates without having to refresh. only really is a problem when the user signs in and is forwarded to the page





NEXT TODO IMPORTANT********
- handle uploading new username and avatar and favorite games on server side. check for white spaces in username and stuff like that.
- finish friendship db stuff
- fix addfriend function. rewrite most of it so that it properly handles usernames in friends table

      <Link href="/protected/account" className="flex flex-row items-center">
        {!loading && user && (
          <Image
            src={`/account-page/avatar-icons/${user.avatar_index === 0 ? (lightMode ? user.avatar_index + "b" : user.avatar_index + "w") : user.avatar_index}.png`}
            alt="Profile Picture"
            width={50}
            height={50}
            className="rounded-full pr-2"
          />
        )}
        {pathname !== "/sign-up" &&
        pathname !== "/sign-in" &&
        pathname !== "/about" ? (
          <>
            Hey,{" "}
            {loading ? (
              "..."
            ) : user ? (
              user.username ? (
                <b>
                  <u>{DOMPurify.sanitize(user.username)}</u>
                </b>
              ) : (
                <b>
                  <u>add a username here</u>
                </b>
              )
            ) : (
              <b>
                <u>error fetching user</u>
              </b>
            )}
            <b>
              <u>!</u>
            </b>
          </>
        ) : (
          <>
            <Link href="/about" className="font-semibold">
              About
            </Link>
          </>
        )}
      </Link>{" "}

